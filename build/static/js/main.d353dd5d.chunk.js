(this.webpackJsonpdemo4=this.webpackJsonpdemo4||[]).push([[0],{38:function(e,t){},71:function(e,t,n){},72:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"registerAc",(function(){return f}));var c=n(1),r=n(0),i=n(17),s=n.n(i),o=n(4),l=n(5),u=n(7),j=n(6),b=n(14),d=n(3),h=function(e){Object(u.a)(n,e);var t=Object(j.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(c.jsxs)("nav",{className:"navbar navbar-expand-lg navbar-light bg-light",children:[Object(c.jsx)(b.b,{className:"navbar-brand",to:"/",children:"home"}),Object(c.jsx)("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent",children:Object(c.jsxs)("ul",{className:"navbar-nav mr-auto",children:[Object(c.jsx)("li",{className:"nav-item active",children:Object(c.jsx)(b.b,{className:"nav-link",to:"/register",children:"Sign up"})}),Object(c.jsx)("li",{className:"nav-item",children:Object(c.jsx)(b.b,{className:"nav-link",to:"/login",children:"Sign in"})})]})})]})}}]),n}(r.Component),O=function(e){Object(u.a)(n,e);var t=Object(j.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(c.jsxs)("div",{className:"jumbotron",children:[Object(c.jsx)("h1",{className:"display-4",children:"\u4f60\u597d"}),Object(c.jsx)("p",{className:"lead",children:"\u8bc6\u522b\u4eba\u8138"}),Object(c.jsx)("hr",{className:"my-4"})]})}}]),n}(r.Component),p=n(41),v=n(19),m=n(36),g=n.n(m).a,f=function(e){return function(t){return g.post("/api/register",e)}},x=n(13),y=n(26),k=n.n(y),N=n(37),w=(n(70),n(71),function(e){Object(u.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={img:"\u8fd9\u662f\u4e2a\u56fe\u7247\u7684\u9ed8\u8ba4\u503c"},e.getMedia=function(){var e=document.getElementById("video");navigator.mediaDevices.getUserMedia({video:{width:500,height:500},audio:!0}).then((function(t){e.srcObject=t,e.play()}))},e.takePhoto=function(){var t=Object(N.a)(k.a.mark((function t(n){var a,c,r,i,s,o;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),a=document.getElementById("video"),c=document.getElementById("canvas"),c.getContext("2d").drawImage(a,0,0,300,400),r=c.toDataURL("image/png",.92),i=r.substr(22),console.log(i),e.setState({image:"h1dfk"}),t.next=11,e.props.registerFn.registerAc(e.state);case 11:s=t.sent,o=s.data,console.log("\u8fd9\u662f\u4f20\u56de\u6765\u7684\u6570\u636e"),console.log(o);case 15:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){void 0!=window.location.hash.split("/")[1]&&""!=window.location.hash.split("/")[1]||this.getMedia()}},{key:"render",value:function(){return Object(c.jsxs)("div",{className:"auto",children:[Object(c.jsx)("video",{id:"video",width:"480",height:"320",autoPlay:!0}),Object(c.jsx)("canvas",{id:"canvas",width:"480",height:"320",style:{display:"none"}}),Object(c.jsx)("div",{children:Object(c.jsx)("button",{id:"sure",onClick:this.takePhoto,title:"\u62cd\u7167",children:"\u62cd\u7167"})})]})}}]),n}(r.Component)),C=Object(d.e)(w),D=function(e){Object(u.a)(n,e);var t=Object(j.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(c.jsx)(C,Object(p.a)({},this.props))}}]),n}(r.Component),S=Object(v.b)((function(e){return{registerData:e.register}}),(function(e){return{registerFn:Object(x.b)(a,e)}}))(D),I=n(38),M=n.n(I),A=function(e){Object(u.a)(n,e);var t=Object(j.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(c.jsxs)("div",{className:"alert alert-primary",role:"alert",children:["\u6536\u5230\u53cd\u9988",Object(c.jsx)("button",{type:"button",className:"close","data-dismiss":"alert","aria-label":"Close",children:Object(c.jsx)("span",{"aria-hidden":"true",children:"\u5173\u95ed"})})]})}}]),n}(r.Component),B=(r.Component,function(e){Object(u.a)(n,e);var t=Object(j.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(c.jsxs)(b.a,{children:[Object(c.jsx)(h,{}),Object(c.jsxs)("switch",{children:[Object(c.jsx)(d.a,{path:"/",exact:!0,component:O}),Object(c.jsx)(d.a,{path:"/login",exact:!0,component:M.a}),Object(c.jsx)(d.a,{path:"/register",exact:!0,component:S})]})]})}}]),n}(r.Component)),E=Object(x.c)({register:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return t.type,e}}),P=n(39),F=n(40),J=n.n(F),U=Object(x.d)(E,Object(x.a)(J.a,P.a));s.a.render(Object(c.jsx)(v.a,{store:U,children:Object(c.jsx)(B,{})}),document.querySelector("#root"))}},[[72,1,2]]]);
//# sourceMappingURL=main.d353dd5d.chunk.js.map
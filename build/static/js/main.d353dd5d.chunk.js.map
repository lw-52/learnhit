{"version":3,"sources":["pages/navigator/index.jsx","pages/home/index.jsx","utils/request.js","pages/register/store/actionCreators.js","pages/register/RegisterForm.jsx","pages/register/index.jsx","pages/flash/FlashItem.jsx","App.jsx","pages/flash/index.jsx","store/reducer.js","pages/register/store/reducer.js","store/index.js","index.js"],"names":["Index","className","to","id","Component","Home","axios","registerAc","data","dispatch","post","RegisterForm","state","img","getMedia","video","document","getElementById","navigator","mediaDevices","getUserMedia","width","height","audio","then","MediaStream","srcObject","play","takePhoto","e","a","preventDefault","canvas","getContext","drawImage","base64Data","toDataURL","data1","substr","console","log","setState","image","props","registerFn","undefined","window","location","hash","split","this","autoPlay","style","display","onClick","title","withRouter","Register","connect","registerData","register","bindActionCreators","registerActionCreators","FlashItem","role","type","data-dismiss","aria-label","aria-hidden","App","path","exact","component","Login","combineReducers","action","createStore","reducer","applyMiddleware","logger","thunk","ReactDOM","render","store","querySelector"],"mappings":"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","file":"static/js/main.d353dd5d.chunk.js","sourcesContent":["import React, {Component} from 'react';\r\nimport {Link} from 'react-router-dom';\r\nexport default class Index extends Component {\r\n    render() {\r\n        return (\r\n            <nav className=\"navbar navbar-expand-lg navbar-light bg-light\">\r\n                <Link className=\"navbar-brand\" to=\"/\">home</Link>\r\n                <div className=\"collapse navbar-collapse\" id=\"navbarSupportedContent\">\r\n                    <ul className=\"navbar-nav mr-auto\">\r\n                        <li className=\"nav-item active\">\r\n                            <Link className=\"nav-link\" to=\"/register\">Sign up</Link>\r\n                        </li>\r\n                        <li className=\"nav-item\">\r\n                            <Link className=\"nav-link\" to=\"/login\">Sign in</Link>\r\n                        </li>\r\n                    </ul>\r\n                </div>\r\n            </nav>\r\n        );\r\n    }\r\n}\r\n","import React, {Component} from 'react';\r\n\r\nexport default class Home extends Component {\r\n    render() {\r\n        return (\r\n            <div className=\"jumbotron\">\r\n                <h1 className=\"display-4\">你好</h1>\r\n                <p className=\"lead\">识别人脸</p>\r\n                <hr className=\"my-4\"/>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n","import axios from 'axios'\r\nexport default axios;","import axios from '../../../utils/request'\r\nexport const registerAc = data =>{\r\n    return dispatch=>{\r\n       // axios.defaults.baseURL=\"\"\r\n       return axios.post('/api/register',data)\r\n   }\r\n};","import React, {Component} from 'react';\r\nimport classnames from \"classnames\";\r\nimport {withRouter} from 'react-router-dom'//做跳转用的\r\nimport cssObj from \"./css/1.css\"\r\nclass RegisterForm extends Component {\r\n\r\n    state = {\r\n        img:\"这是个图片的默认值\"\r\n    }\r\n    getMedia = ()=>{\r\n        let constraints = {\r\n            //参数\r\n            video: {width: 500, height: 500},\r\n            audio: true\r\n        };\r\n        //获得video摄像头区域\r\n        let video = document.getElementById(\"video\");\r\n        //返回的Promise对象\r\n        let promise = navigator.mediaDevices.getUserMedia(constraints);\r\n        //then()异步，调用MediaStream对象作为参数\r\n        promise.then(function (MediaStream){\r\n            video.srcObject = MediaStream;\r\n            video.play();\r\n        })\r\n    }\r\n    takePhoto = async e=>{\r\n        //获得Canvas对象\r\n        e.preventDefault();\r\n        let video = document.getElementById(\"video\");\r\n        let canvas = document.getElementById(\"canvas\");\r\n        let context = canvas.getContext('2d');\r\n        //绘图\r\n        context.drawImage(video, 0, 0, 300, 400);\r\n        let base64Data = canvas.toDataURL(\"image/png\",0.92);\r\n        var data1=base64Data.substr(22);\r\n        console.log(data1)\r\n        this.setState({\r\n            image:\"h1dfk\",\r\n            //img:data1\r\n        })\r\n        const {data}=await this.props.registerFn.registerAc(this.state);\r\n        console.log(\"这是传回来的数据\")\r\n        console.log(data)\r\n        // {this.props.history.push('/success')}\r\n    }\r\n    componentDidMount() {\r\n        if (window.location.hash.split('/')[1]==undefined||window.location.hash.split('/')[1]==\"\"){\r\n            // 第一种通过DOM元素获取标签并执行点击事件\r\n            this.getMedia()\r\n        }\r\n    }\r\n    render() {\r\n        //const {username, email, password, passwordConfirm} = this.state.userInfo;\r\n        return (\r\n            <div className=\"auto\" >\r\n                <video id=\"video\" width=\"480\" height=\"320\" autoPlay/>\r\n                <canvas id=\"canvas\" width=\"480\" height=\"320\" style={{display: \"none\"}} />\r\n                <div>\r\n                    <button id=\"sure\" onClick={this.takePhoto} title=\"拍照\">拍照</button>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\nexport default withRouter(RegisterForm);//做跳转用的\r\n","import React, {Component} from 'react';\r\nimport {connect} from 'react-redux'\r\nimport {actionCreators as registerActionCreators} from './store';\r\nimport {bindActionCreators} from \"redux\";\r\nimport RegisterForm from \"./RegisterForm\";\r\nclass Register extends Component {\r\n    render() {\r\n        return <RegisterForm{...this.props}/>\r\n    }\r\n}\r\nconst mapStateToProps = state=>{\r\n    return {\r\n        registerData:state.register\r\n    }\r\n}\r\n//去映射actionCreator里面的东西\r\nconst mapDispatchToProps = dispatch=>{\r\n    return {\r\n        registerFn:bindActionCreators(registerActionCreators,dispatch)\r\n    }\r\n}\r\nexport default connect(mapStateToProps,mapDispatchToProps)(Register);\r\n","import React, {Component} from 'react';\r\n\r\nexport default class FlashItem extends Component {\r\n    render() {\r\n        return (\r\n            <div className=\"alert alert-primary\" role=\"alert\">\r\n                收到反馈\r\n                <button\r\n                    type=\"button\"\r\n                    className=\"close\"\r\n                    data-dismiss=\"alert\"\r\n                    aria-label=\"Close\">\r\n                    <span aria-hidden=\"true\">关闭</span>\r\n                </button>\r\n            </div> );\r\n    }\r\n}\r\n","import React, {Component} from 'react';\r\nimport {BrowserRouter as Router,Switch,Route} from 'react-router-dom';\r\n//导航\r\nimport Navigator from './pages/navigator'\r\n//首页\r\nimport Home from './pages/home'\r\n//注册\r\nimport Register from './pages/register'\r\n//登录\r\nimport Login from './pages/login'\r\n//提示\r\nimport Flash from './pages/flash'\r\n\r\nexport default class App extends Component {\r\n    render() {\r\n        return (\r\n            <Router>\r\n                <Navigator/>\r\n                <switch>\r\n                <Route path=\"/\" exact component={Home}/>\r\n                <Route path=\"/login\" exact component={Login}/>\r\n                <Route path=\"/register\" exact component={Register}/>\r\n                </switch>\r\n            </Router>\r\n        );\r\n    }\r\n}","import React, {Component} from 'react';\r\nimport FlashItem from \"./FlashItem\";\r\nexport default class Flash extends Component {\r\n    render() {\r\n        return (\r\n            <div>\r\n<FlashItem></FlashItem>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n","//结合所有的reducer\r\nimport {reducer as registerReducer} from '../pages/register/store'\r\nimport {combineReducers} from \"redux\";\r\nexport default combineReducers({\r\n    register:registerReducer\r\n})","export default (state={},action)=>{\r\n    switch (action.type) {\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n","//创建store\r\nimport {createStore,applyMiddleware} from \"redux\";\r\nimport reducer from './reducer';\r\nimport thunk from \"redux-thunk\";\r\nimport logger from 'redux-logger';\r\nexport default createStore(reducer,applyMiddleware(logger,thunk))\r\n","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport App from './App'\r\nimport store from './store'\r\nimport {Provider} from 'react-redux'\r\nReactDOM.render(\r\n    <Provider store={store}>\r\n        <App/>\r\n    </Provider>,\r\n    document.querySelector('#root'));"],"sourceRoot":""}